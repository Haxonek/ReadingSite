<p id="notice"><%= notice %></p>

<h1>Listing Books</h1>

<ol>
  <li><%= link_to "Completed", completed_books_path %></li>
  <li><%= link_to "Short", short_books_path %></li>
  <li><%= link_to "Recent", recent_books_path %></li>
  <li><%= link_to "All", books_path %></li>
</ol>

<%= form_tag books_path, method: :get do %>
  <p>
    <%= text_field_tag :query, params[:query] %>
    <%= submit_tag "search", name: nil %>
  </p>
<% end %>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Complete</th>
      <th>Volumes</th>
      <th>User</th>
      <th>Tags</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <% unless @books.empty? %>
    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><%= book.title %></td>
          <td><%= book.description %></td>
          <td><%= book.complete %></td>
          <td><%= book.volumes %></td>
          <td><%= link_to User.find(book.user_id).name, user_path(book.user_id) %></td>
          <td><%= book.tags %></td>
          <td><%= link_to 'Show', book %></td>
          <td><%= link_to 'Edit', edit_book_path(book) %></td>
          <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  <% else %>
    <td colspan="9">There were no results</td>
  <% end %>
</table>

<br>

<%= will_paginate @books %>

<%= link_to 'New Book', new_book_path %>
